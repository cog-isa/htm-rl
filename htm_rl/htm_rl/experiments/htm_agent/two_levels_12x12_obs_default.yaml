seed: &seed 3432
levels: 2
basal_ganglia_version: 2
agent: htm

environment:
  seed: 222
  shape_xy: [12, 12]

  actions_cost:
    base_cost: -0.0015
    weights:
      stay: 2.0
      turn: 1.0
      move: 1.0
  actions:
    - move right
    - move down
    - move left
    - move up
    - stay

  rendering:
    view_rectangle: [[-2, -2], [2, 2]]

  areas:
    n_types: 4

  obstacle:
    density: 0.25

  food:
    n_items: 1
    reward: 1.

  agent:
  #  rendering:
  #    what:
  #      - position
  ##      - view direction
  #    bucket_size: 3

  terminate:
    episode_max_steps: 350
    early_stop: true

cagent:
  intrinsic_reward: true
  theta: 0.001
  action:
    do_nothing_action: 4
    noise_tolerance: 0.1
    patterns:
    - [1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    - [0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0]
    - [0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0]
    - [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1]
  alpha: 1.0
  muscles:
    connected_permanence: 0.5
    depolarized_decrement: 0.01
    initial_permanence: 0.6
    max_segments_per_cell: 32
    noise_tolerance: 0.1
    permanence_decrement: 0.01
    permanence_increment: 0.1
    sample_size: 1.0
    seed: *seed
  punish_reward: -0.05

blocks:
  0:
    bg: null
    bg_sp: null
    block:
      level: 1
    sm: {}
    sp:
      boostStrength: 0.0
      localAreaDensity: 0.02
      potentialPct: 0.5
    tm:
      basal_columns: 1000
  1:
    bg:
      alpha: 0.01
      beta: 0.01
      eps: 0.02
      greedy: False
      learn_sp: False
    bg_sp: null
    block:
      level: 1
    sm: {}
    sp:
      boostStrength: 0.0
      localAreaDensity: 0.02
      potentialPct: 0.5
    tm:
      basal_columns: 1000

  2:
    bg: null
    bg_sp: null
    block:
      level: 2
    sm: { }
    sp:
      boostStrength: 0.0
      localAreaDensity: 0.02
      potentialPct: 0.5
    tm:
      basal_columns: 1000
  3:
    bg:
      alpha: 0.1
      beta: 0.1
      eps: 0.02
      greedy: False
      learn_sp: False
    bg_sp: null
    block:
      level: 2
    sm:
      permanence_decrement: 0.0
      permanence_forgetting_decrement: 0.01
      permanence_increment: 0.1
    sp:
      boostStrength: 0.0
      localAreaDensity: 0.02
      potentialPct: 0.5
    tm:
      basal_columns: 1000

cells_per_column: &cells_per_column 10

hierarchy:
  block_connections: [
    {
      'basal_in': [ ],
      'apical_in': [ ],
      'feedback_in': [ ],
      'basal_out': [ 2 ],
      'apical_out': [ ],
      'feedback_out': [ ]
    },

    {
      'basal_in': [ ],
      'apical_in': [ ],
      'feedback_in': [ ],
      'basal_out': [ 3 ],
      'apical_out': [ ],
      'feedback_out': [ ]
    },

    {
      'basal_in': [ 0 ],
      'apical_in': [ 3 ],
      'feedback_in': [ 4 ],
      'basal_out': [ 4 ],
      'apical_out': [ 3 ],
      'feedback_out': [ ]
    },

    {
      'basal_in': [ 1 ],
      'apical_in': [ 2 ],
      'feedback_in': [ 5 ],
      'basal_out': [ 5 ],
      'apical_out': [ 2 ],
      'feedback_out': [ ]
    },

    {
      'basal_in': [ 2 ],
      'apical_in': [ 5 ],
      'feedback_in': [ ],
      'basal_out': [ ],
      'apical_out': [ 5 ],
      'feedback_out': [ 2 ]
    },

    {
      'basal_in': [ 3 ],
      'apical_in': [ 4 ],
      'feedback_in': [ ],
      'basal_out': [ ],
      'apical_out': [ 4 ],
      'feedback_out': [ 3 ]
    }
  ]
  input_blocks:
  - 0
  - 1
  output_block: 3

input_block_default:
  columns: 0
  level: 0

muscles_size: 12

spatial_memory_default:
  activation_threshold: 1
  initial_permanence: 1.0
  overlap_threshold: 0.9
  permanence_decrement: 0.0
  permanence_forgetting_decrement: 0.01
  permanence_increment: 0.01
  permanence_threshold: 0.0
spatial_pooler_default:
  boostStrength: 0.0
  columnDimensions:
  - 1000
  dutyCyclePeriod: 1000
  globalInhibition: true
  localAreaDensity: 0.04
  minPctOverlapDutyCycle: 0.001
  numActiveColumnsPerInhArea: 0
  potentialPct: 0.5
  seed: *seed
  spVerbosity: 0
  stimulusThreshold: 1
  synPermActiveInc: 0.1
  synPermConnected: 0.1
  synPermInactiveDec: 0.01
  wrapAround: true
temporal_memory_default:
  apical_cells_per_column: *cells_per_column
  basal_cells_per_column: *cells_per_column
  noise_tolerance: 0.1
  max_segments_per_cell: 32
  anomaly_window: 500
  confidence_window: 500
  initial_permanence: 0.25
  connected_threshold: 0.5
  permanence_increment: 0.1
  permanence_decrement: 0.01
  predicted_segment_decrement: 0.001
  initial_permanence_apical: 0.4
  connected_threshold_apical: 0.5
  permanence_increment_apical: 0.1
  permanence_decrement_apical: 0.01
  predicted_segment_decrement_apical: 0.001
  initial_permanence_exec: 0.4
  connected_threshold_exec: 0.5
  permanence_decrement_exec: 0.01
  permanence_increment_exec: 0.1
  predicted_segment_decrement_exec: 0.001
  initial_permanence_inhib: 0.5
  connected_threshold_inhib: 0.5
  permanence_decrement_inhib: 0.1
  permanence_increment_inhib: 0.01
  predicted_segment_decrement_inhib: 0.1
  seed: *seed

basal_ganglia_default:
  alpha: 0.01
  beta: 0.01
  discount_factor: 0.95
  eps: 0.02
  gamma: 0.01
  greedy: false
  learn_sp: true
  seed: *seed
  w_stn: 0.01

block_default:
  gamma: 0.95
  predicted_boost: 0.0
  min_feedback_boost: 0.1
  max_feedback_boost: 0.5
