verbosity: &verbosity 1
seed: &seed 8713

experiment: !UcbExperimentRunner
  n_episodes: 40

run_results_processor: !RunResultsProcessor
  env_name: biogwlab
  moving_average: 1
  verbosity: *verbosity
  test_dir: # leave empty for default behavior - output to the config's dir

# =========== environment =============
environment:
  episode_max_steps: 200

  environment:
    shape_xy: [8, 8]
    seed: *seed
    obstacle_density: .25

    areas:
      n_types: 2

    food:
#      n_types: 1
#      reward: 20.
      food_types: [0, 1, 2, 3]
      rewards: [20., -10., 100., -200.]
      n_items: 6
      n_foods_to_find: 2

    action_costs:
      action_cost: -.01
      action_weight:
        stay: .3
        turn: .5
        move: 1.

    rendering:
      view_rectangle: [[-3, -3], [3, 3]]
      render:
        - obstacles
        - area
        - food
#        - position
#        - direction
      bucket_size: 3

  actions:
    - stay
    - move forward
    - turn right
    - turn left
    - move right
    - move down
    - move left
    - move up

# =========== ucb agent =================
.default_spatial_pooler_params: &default_spatial_pooler_params
  synapse_permanence_deltas: [ .1, .02 ]
  connected_permanence_threshold: .5
  min_activation_threshold: 1

agent:
  state_sp:
    <<: *default_spatial_pooler_params
    output_size: 200
#    output_dilation_ratio: 1.4
    potential_synapses_ratio: .8
    sparsity: .05
    boost_strength: 4
    boost_sliding_window: 1000
    expected_normal_overlap_frequency: .001
    seed: *seed

  action_encoder:
    bucket_size: 5

  sa_sp:
    <<: *default_spatial_pooler_params
    output_size: 300
#    output_dilation_ratio: 1.4
    potential_synapses_ratio: .8
    sparsity: .04
    boost_strength: 4
    boost_sliding_window: 1000
    expected_normal_overlap_frequency: .001
    seed: *seed

  ucb_actor_critic:
    update_cell_ratio: 1.
    discount_factor: .975
    learning_rate: .998
    seed: *seed
    online: True
